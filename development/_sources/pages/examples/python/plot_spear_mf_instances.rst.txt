
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "pages/examples/python/plot_spear_mf_instances.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download_pages_examples_python_plot_spear_mf_instances.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr_pages_examples_python_plot_spear_mf_instances.py:


SPEAR-QCP with Multi-Fidelity on Instances
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

We optimize the SPEAR algorithm on QCP to demonstrate the powerful SMAC4AC facade. Algorithm and
instance definition is done inside scenario file.

Moreover, we present you an alternative :term:`intensification<Intensification>` procedure "Successive Halving".

.. GENERATED FROM PYTHON SOURCE LINES 10-48




.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    INFO:smac.scenario.scenario.Scenario:Reading scenario file: ./spear_qcp/scenario.txt
    INFO:smac.utils.io.cmd_reader.CMDReader:Output to smac3-output_2022-01-12_09:20:28_673740
    WARNING:smac.facade.smac_ac_facade.SMAC4AC:Runtime as objective automatically activates log(y) transformation
    INFO:smac.initial_design.default_configuration_design.DefaultConfiguration:Running initial design for 1 configurations
    INFO:smac.optimizer.smbo.SMBO:Running initial design
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:Successive Halving configuration: budget type = INSTANCES, Initial budget = 1.00, Max. budget = 8.00, eta = 3.00
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:First run, no incumbent provided; challenger is assumed to be the incumbent
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:First run, no incumbent provided; challenger is assumed to be the incumbent
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:Successive Halving iteration-step: 1-1 with budget [2.67 / 8] - evaluated 3 challenger(s)
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:Successive Halving iteration-step: 1-2 with budget [8.00 / 8] - evaluated 1 challenger(s)
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:Successive Halving iteration-step: 2-1 with budget [2.67 / 8] - evaluated 3 challenger(s)
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:Challenger (0.7129) is better than incumbent (6.6091) on 8 runs.
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:Changes in incumbent:
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:  sp-clause-activity-inc : 1.0 -> 0.8511579551170143
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:  sp-clause-decay : 1.4 -> 1.0188792641376752
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:  sp-clause-del-heur : '2' -> '0'
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:  sp-first-restart : 100 -> 123
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:  sp-learned-clause-sort-heur : '0' -> '5'
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:  sp-learned-clauses-inc : 1.3 -> 1.3498523031045262
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:  sp-learned-size-factor : 0.4 -> 0.4031307818082188
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:  sp-orig-clause-sort-heur : '0' -> '3'
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:  sp-phase-dec-heur : '5' -> '2'
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:  sp-rand-var-dec-freq : '0.001' -> '0.005'
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:  sp-rand-var-dec-scaling : 1.0 -> 0.994047825999824
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:  sp-resolution : '1' -> '0'
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:  sp-restart-inc : 1.5 -> 1.771783095685255
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:  sp-update-dec-queue : '1' -> '0'
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:  sp-var-activity-inc : 1.0 -> 0.9880539476436718
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:  sp-var-dec-heur : '0' -> '6'
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:  sp-variable-decay : 1.4 -> 1.3191969278706432
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:Successive Halving iteration-step: 2-2 with budget [8.00 / 8] - evaluated 1 challenger(s)
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    INFO:smac.intensification.successive_halving.0._SuccessiveHalving:Successive Halving iteration-step: 3-1 with budget [2.67 / 8] - evaluated 3 challenger(s)
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    /home/runner/work/SMAC3/SMAC3/docs/../smac/intensification/parallel_scheduling.py:152: UserWarning: SuccessiveHalving is intended to be used with more than 1 worker but num_workers=1
      warnings.warn("{} is intended to be used "
    INFO:smac.stats.stats.Stats:##########################################################
    INFO:smac.stats.stats.Stats:Statistics:
    INFO:smac.stats.stats.Stats:#Incumbent changed: 1
    INFO:smac.stats.stats.Stats:#Submitted target algorithm runs: 35 / inf
    INFO:smac.stats.stats.Stats:#Finished target algorithm runs: 35 / inf
    INFO:smac.stats.stats.Stats:#Configurations: 9
    INFO:smac.stats.stats.Stats:Used wallclock time: 63.98 / 60.00 sec 
    INFO:smac.stats.stats.Stats:Used target algorithm runtime: 18.90 / inf sec
    INFO:smac.stats.stats.Stats:##########################################################
    INFO:smac.facade.smac_ac_facade.SMAC4AC:Final Incumbent: Configuration:
      sp-clause-activity-inc, Value: 0.8511579551170143
      sp-clause-decay, Value: 1.0188792641376752
      sp-clause-del-heur, Value: '0'
      sp-first-restart, Value: 123
      sp-learned-clause-sort-heur, Value: '5'
      sp-learned-clauses-inc, Value: 1.3498523031045262
      sp-learned-size-factor, Value: 0.4031307818082188
      sp-orig-clause-sort-heur, Value: '3'
      sp-phase-dec-heur, Value: '2'
      sp-rand-var-dec-freq, Value: '0.005'
      sp-rand-var-dec-scaling, Value: 0.994047825999824
      sp-resolution, Value: '0'
      sp-restart-inc, Value: 1.771783095685255
      sp-update-dec-queue, Value: '0'
      sp-use-pure-literal-rule, Value: '1'
      sp-var-activity-inc, Value: 0.9880539476436718
      sp-var-dec-heur, Value: '6'
      sp-variable-decay, Value: 1.3191969278706432

    INFO:smac.facade.smac_ac_facade.SMAC4AC:Estimated cost of incumbent: 0.712941
    Optimized configuration Configuration:
      sp-clause-activity-inc, Value: 0.8511579551170143
      sp-clause-decay, Value: 1.0188792641376752
      sp-clause-del-heur, Value: '0'
      sp-first-restart, Value: 123
      sp-learned-clause-sort-heur, Value: '5'
      sp-learned-clauses-inc, Value: 1.3498523031045262
      sp-learned-size-factor, Value: 0.4031307818082188
      sp-orig-clause-sort-heur, Value: '3'
      sp-phase-dec-heur, Value: '2'
      sp-rand-var-dec-freq, Value: '0.005'
      sp-rand-var-dec-scaling, Value: 0.994047825999824
      sp-resolution, Value: '0'
      sp-restart-inc, Value: 1.771783095685255
      sp-update-dec-queue, Value: '0'
      sp-use-pure-literal-rule, Value: '1'
      sp-var-activity-inc, Value: 0.9880539476436718
      sp-var-dec-heur, Value: '6'
      sp-variable-decay, Value: 1.3191969278706432







|

.. code-block:: default


    import logging
    logging.basicConfig(level=logging.INFO)

    from smac.facade.smac_ac_facade import SMAC4AC
    from smac.intensification.successive_halving import SuccessiveHalving
    from smac.scenario.scenario import Scenario

    __copyright__ = "Copyright 2021, AutoML.org Freiburg-Hannover"
    __license__ = "3-clause BSD"


    if __name__ == '__main__':
        scenario = Scenario('./spear_qcp/scenario.txt')

        # provide arguments for the intensifier like this
        intensifier_kwargs = {
            'n_seeds': 2,  # specify the number of seeds to evaluate for a non-deterministic target algorithm
            'initial_budget': 1,
            'eta': 3,
            'min_chall': 1  # because successive halving cannot handle min_chall > 1
        }

        smac = SMAC4AC(
            scenario=scenario,  # scenario object
            intensifier_kwargs=intensifier_kwargs,  # arguments for Successive Halving
            # change intensifier to successive halving by passing the class.
            # it must implement `AbstractRacer`.
            intensifier=SuccessiveHalving
        )

        # Start optimization
        try:
            incumbent = smac.optimize()
        finally:
            incumbent = smac.solver.incumbent

        print("Optimized configuration %s" % str(incumbent))


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 1 minutes  4.048 seconds)


.. _sphx_glr_download_pages_examples_python_plot_spear_mf_instances.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: plot_spear_mf_instances.py <plot_spear_mf_instances.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: plot_spear_mf_instances.ipynb <plot_spear_mf_instances.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
